{% extends 'base.html.twig' %}

{% block titre %} Mon Profil - Atypik{% endblock %}

{% block stylesheets %}
{% endblock %}

{% block contenuPrincipal %}

{% include 'headerFinal.html.twig' %}
{% for label, messages in app.flashes %}
    {% for message in messages %}
        <div class="flash-{{ label }}">
            {{ message }}
        </div>
    {% endfor %}
{% endfor %}
<!-- ========================= SECTION CONTENT ========================= -->
<section class="section-content padding-y" style="margin : 13%;">
    <div class="container">
    
    <div class="row">
        <aside class="col-md-3">
            <ul class="list-group" >
                <a class="list-group-item active" style="background-color: purple;color:white;
                border-color: #97DFC6;"> <i class="fas fa-address-card"></i> Mon Compte</a>
                <a class="list-group-item" href="{{ path('habitat_index') }}"> Gerer mes Habitats</a>
                <a class="list-group-item" href="{{ path('habitat-reservation') }}"> Réservations en Attente</a>
                <a class="list-group-item" href="{{ path('notification') }}"> Notifications</a>
                <a class="list-group-item" href="{{ path('propriete_habitat_index') }}">Nouveaux Attributs</a>



            </ul>
        </aside> <!-- col.// -->
        <main class="col-md-9">
    
            <article class="card mb-3" style="border : 1px solid black;">
                <div class="card-body">
                    
                    <figure class="icontext">
                            <div class="icon">
                                <img class="rounded-circle img-sm border" src="{{ asset('images/userDefault.jpg') }}">
                            </div>
                            <div class="text">
                                <strong> {{ app.user.nom }}  {{ app.user.prenom }}</strong> <br> 
                                 <br> 
                            </div>
                    </figure>
                    <hr>
                    <p>
                        <i class="fa fa-map-marker text-muted"></i> &nbsp; {{ app.user.adresse }}
                         <br>
                         {{ app.user.ville }} {{ app.user.cp }}
                    </p>
    
                
                    
    
                </div> <!-- card-body .// -->
            </article> <!-- card.// -->
    
            <article class="card  mb-3" style="border : 1px solid black;">
                <div class="card-body">
                    <h5 class="card-title mb-4">Mes Dernières Locations</h5>	
    
                    <div class="row">
                        {% for historique in historiques %}    
                    <div class="col-md-6">
                        <figure class="itemside  mb-3">
                            <div class="aside"><img src="{{ asset(historique.idHabitatidLocation.url) }}" class="border img-sm"></div>
                            <figcaption class="info">
                                <time class="text-muted"><i class="fa fa-calendar-alt"></i> {{ historique.dateReservation|date('Y-m-d')}}</time>
                                <p>{{ historique.idHabitatidLocation.nom }}</p>
                                <span class="text-warning">{{ historique.statut}}</span>
                            </figcaption>
                        </figure>
                    </div> <!-- col.// -->
                    {% endfor %}
                </div> <!-- row.// -->
                <a href="{{ path('listeHistorique') }}"  class="btn btn-lg btn-starred btn-purple"> Voir toutes mes réservations</a>

                    </div> <!-- card-body .// -->
            </article> <!-- card.// -->
    
        </main> <!-- col.// -->
    </div>
    
    </div> <!-- container .//  -->
</section>

{% endblock %}

{% block javascripts %}
        <script src="{{ asset('js/jquery-2.0.0.min.js') }}" type="text/javascript"></script>
        <script src="{{ asset('js/bootstrap.bundle.min.js') }}" type="text/javascript"></script>
        <script src="{{ asset('js/script.js') }}" type="text/javascript"></script>

{% endblock %}